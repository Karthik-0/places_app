{% extends 'base.html' %}


{% block content %}

<script>
       function filter(e) {
        if (e == 'all') {
            e = ""
        }
        window.location = "{% url 'index' %}?city=" + e;
    }
</script>
<section>
    <div class="container">
        <div class="row justify-content-end">
            <div class="col-3">
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <select class="form-control" onchange="filter(this.value)" id="exampleFormControlSelect1">
                        <option value="all">Cities</option>
                        <option value="all">All</option>
                         {% for city in cities %}
                            <option>{{city}}</option>
                         {% endfor %}

                    </select>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="my-3">
    <div class="container">
    {% for place in filteredplaces.qs %}
       <a href="{% url 'detail' place.id %}"><div class="listbox py-3 px-3">
       <strong>{{place.title}}</strong> | <small>{{place.city}}</small>
       </div></a>
    {% endfor %}
    </div>
</section>
{% endblock content %}
